from datetime import datetime, timedelta
from homeassistant.core import HomeAssistant as HomeAssistant, callback as callback
from typing import Any, Callable, Hashable, Optional

class KeyedRateLimit:
    hass: Any = ...
    def __init__(self, hass: HomeAssistant) -> None: ...
    def async_has_timer(self, key: Hashable) -> bool: ...
    def async_triggered(self, key: Hashable, now: Optional[datetime]=...) -> None: ...
    def async_cancel_timer(self, key: Hashable) -> None: ...
    def async_remove(self) -> None: ...
    def async_schedule_action(self, key: Hashable, rate_limit: Optional[timedelta], now: datetime, action: Callable, *args: Any) -> Optional[datetime]: ...
