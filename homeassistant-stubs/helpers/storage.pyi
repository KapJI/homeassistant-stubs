from homeassistant.const import EVENT_HOMEASSISTANT_FINAL_WRITE as EVENT_HOMEASSISTANT_FINAL_WRITE
from homeassistant.core import CALLBACK_TYPE as CALLBACK_TYPE, CoreState as CoreState, HomeAssistant as HomeAssistant, callback as callback
from homeassistant.helpers.event import async_call_later as async_call_later
from homeassistant.loader import bind_hass as bind_hass
from json import JSONEncoder
from typing import Any, Callable, Dict, List, Optional, Type, Union

STORAGE_DIR: str

async def async_migrator(hass: Any, old_path: Any, store: Any, *, old_conf_load_func: Optional[Any] = ..., old_conf_migrate_func: Optional[Any] = ...): ...

class Store:
    version: Any = ...
    key: Any = ...
    hass: Any = ...
    def __init__(self, hass: HomeAssistant, version: int, key: str, private: bool=..., *, encoder: Optional[Type[JSONEncoder]]=...) -> None: ...
    @property
    def path(self): ...
    async def async_load(self) -> Union[Dict, List, None]: ...
    async def async_save(self, data: Union[Dict, List]) -> None: ...
    def async_delay_save(self, data_func: Callable[[], Dict], delay: float=...) -> None: ...
    async def async_remove(self) -> None: ...
